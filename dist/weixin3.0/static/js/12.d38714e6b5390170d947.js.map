{"version":3,"sources":["webpack:///./src/win-form/commonChildTable.vue","webpack:///./src/win-form/commonChildTable.vue?d058","webpack:///./src/win-form/commonChildTable.vue?06cf"],"names":["commonChildTable","mixins","commonComponentMixin","props","KeyValue","type","String","default","comboboxdata","Object","formAllConfig","chileTableItem","tableData","mainformData","computed","isEdit","formstate","this","routerParams","formStatusValue","mapGetters","data","KeyWord","formState","showCheckBox","tagShow","offset","tableLists","defaultData","selectItems","currentItem","tableShowField","option","title","text","show","left","center","right","subTableData","subTableTextNameOption","subTableShowField","tableType","selectId","mx_isLoading","mx_message","mx_alertShow","mx_alertTitle","mx_toastShow","mx_toastText","mx_deleyTime","mounted","tableInit","methods","textNameOption","tableListType","subTable","assign_default","getTableType","formRowChange","item","field","value","_add","addType","MixinAlertShowEvent","addFormLoad","saveFromData","_this","formDate","foreignfield","KeyWordType","checkChildTableIsAdded","setChildTableData","obj","FormId","FromId","params","organizeParams","MinXinHttpFetch","FormSave","response","success","$emit","closeEditBlock","deleteSelectedItems","_this2","_backPre","_this3","swhere","select","FormLoad","JSON","parse","selectItemView","formatFromDataToView","$refs","subFileAttach","GetDocFilesLoad","Id","Code","formListUnits","formListUnit","length","forEach","backDefault","_delete","_preDelete","_selectItem","push","_unSelectItem","removeList","watch","handler","newData","oldData","values","concat","immediate","components","SearchBox","FormList","FooterBar","FormRow","SubCommonTable","win_form_commonChildTable","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_e","_l","key","on","click","$event","ref","refInFor","attrs","selectItem","unSelectItem","Add","preDelete","Delete","backPre","style","transform","fieldItem","fieldIndex","label","format","readonly","required","disabled","placeholder","enterChange","tableTextNameOption","model","callback","$$v","expression","time","content","on-hide","MixinAlertHideEvent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"weixin3.0/static/js/12.d38714e6b5390170d947.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport {\n  SearchBox,\n  FormList,\n  FooterBar,\n  subFileAttach,\n  FormRow,\n  SubCommonTable\n} from 'components/index.js'\n\nimport {\n  removeList,\n  organizeParams,\n  getTableType,\n  checkChildTableIsAdded,\n  setChildTableData,\n  formatFromDataToView\n} from 'common/js/Util.js'\nimport { commonComponentMixin } from 'common/js/mixin.js'\nimport {\n  FormLoad,\n  FormSave\n} from 'api/index.js'\n\nexport default {\n  mixins: [commonComponentMixin],\n  props: {\n    KeyValue: {\n      type: String,\n      default: ''\n    },\n    comboboxdata: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    formAllConfig: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    chileTableItem: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    tableData: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    mainformData: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  computed: {\n    isEdit () {\n      let formstate = this.routerParams.formstate\n\n      switch (this.formStatusValue) {\n        case '40':\n          return false\n        case '50':\n          return false\n        default:\n          if (formstate !== 'view') {\n            return true\n          } else {\n            return false\n          }\n      }\n    },\n    ...mapGetters([\n      'routerParams',\n      'formStatusValue'\n    ])\n  },\n  data () {\n    return {\n      KeyWord: '',\n      formState: '',\n      showCheckBox: false,\n      tagShow: false,\n      offset: 100,\n      tableLists: [],\n      defaultData: [],\n      selectItems: [],\n      currentItem: {},\n      tableShowField: [],\n      option: {\n        title: {\n          text: '',\n          show: true\n        },\n        left: {\n          text: '',\n          show: true\n        },\n        center: {\n          text: '',\n          show: true\n        },\n        right: {\n          text: '',\n          show: true\n        }\n      },\n      subTableData: [],\n      subTableTextNameOption: {},\n      subTableShowField: [],\n      tableType: '',\n      selectId: '',\n      mx_isLoading: false,\n      mx_message: '',\n      mx_alertShow: false,\n      mx_alertTitle: '提示',\n      mx_toastShow: false,\n      mx_toastText: '',\n      mx_deleyTime: 1000\n    }\n  },\n  mounted () {\n    this.formState = this.routerParams.formstate\n    this.tableInit()\n  },\n  methods: {\n    // 初始化\n    tableInit () {\n      let textNameOption = this.chileTableItem.textNameOption\n      let tableType = this.chileTableItem.tableListType\n      let subTable = this.chileTableItem.subTable\n\n      this.tableShowField = this.chileTableItem.tableShowField\n      this.option = Object.assign(this.option, textNameOption)\n      this.KeyWord = this.chileTableItem.KeyWord\n      this.tableType = getTableType(tableType)\n\n      if (subTable && subTable === 'withCommonTable') {\n        this.subTableTextNameOption = this.chileTableItem.subTableTextNameOption\n        this.subTableShowField = this.chileTableItem.subTableShowField\n      }\n    },\n    formRowChange (item) {\n      this.currentItem[item.field] = item.value\n    },\n    // 新增\n    _add () {\n      let { addType } = this.chileTableItem\n      let { formstate } = this.routerParams\n\n      if (addType === 'fromWizard') {\n        this.MixinAlertShowEvent('仅限查看,不能新增')\n      } else if (formstate === 'view') {\n        this.MixinAlertShowEvent('仅限查看,不能新增')\n      } else if (formstate === 'add') {\n        this.MixinAlertShowEvent('目前处于新增状态,请保存主表')\n      } else {\n        this.addFormLoad()\n        this.offset = 0\n      }\n    },\n    // 保存当前数据\n    saveFromData () {\n      let formDate = 'auto'\n      let foreignfield = this.chileTableItem.data.foreignfield\n      let KeyWordType = this.chileTableItem.KeyWordType\n      let isAdded = checkChildTableIsAdded(foreignfield, this.currentItem)\n\n      if (!isAdded) {\n        formDate = 'edit'\n      } else {\n        formDate = 'add'\n        if (this.KeyValue === '0000') {\n          this.MixinAlertShowEvent('需先保存主表')\n          return false\n        }\n        this.currentItem =\n          setChildTableData(foreignfield, this.currentItem, this.mainformData, true)\n      }\n\n      let obj = {\n        KeyWord: this.KeyWord,\n        formAllConfig: this.formAllConfig,\n        KeyWordType: KeyWordType,\n        data: [this.currentItem],\n        formDate: formDate,\n        FormId: this.routerParams.FromId\n      }\n\n      let params = organizeParams(obj)\n      this.MinXinHttpFetch(FormSave(params), (response) => {\n        if (response.success) {\n          this.mx_toastText = '保存成功'\n          this.mx_toastShow = true\n          this.$emit('saveChildFrom')\n          this.closeEditBlock()\n        } else {\n          this.currentItem =\n          setChildTableData(foreignfield, this.currentItem, this.mainformData, false)\n        }\n      })\n    },\n    // 删除当前选中的数据\n    deleteSelectedItems () {\n      let formDate = 'delete'\n      let obj = {\n        KeyWord: this.KeyWord,\n        formAllConfig: this.formAllConfig,\n        KeyWordType: 'BO',\n        data: this.selectItems,\n        formDate: formDate,\n        FormId: this.routerParams.FromId\n      }\n      let params = organizeParams(obj)\n      this.MinXinHttpFetch(FormSave(params), (response) => {\n        if (response.success) {\n          this.mx_toastText = '删除成功'\n          this.mx_toastShow = true\n          this.$emit('saveChildFrom')\n          this._backPre()\n        }\n      })\n    },\n    // 初始化一条子表记录\n    addFormLoad () {\n      let params = {\n        KeyWord: this.KeyWord,\n        KeyValue: '',\n        KeyWordType: 'BO',\n        swhere: '',\n        select: '',\n        formstate: 'add'\n      }\n      this.MinXinHttpFetch(FormLoad(params), (response) => {\n        let value = response.data.value\n\n        this.currentItem = JSON.parse(value)\n      })\n    },\n    // 查看一条数据\n    selectItemView (item) {\n      if (this.showCheckBox) {\n        return false\n      } else {\n        this.currentItem = formatFromDataToView(\n          this.comboboxdata,\n          item,\n          this.KeyWord\n        )\n        this.offset = 0\n        let subTable = this.chileTableItem.subTable\n        if (subTable === 'withAttach') {\n          this.$refs.subFileAttach.GetDocFilesLoad(this.KeyWord, this.currentItem.Id)\n        }\n\n        if (subTable === 'withCommonTable') {\n          this.selectId = item.Code\n        }\n      }\n    },\n    // 返回\n    _backPre () {\n      let formListUnits = this.$refs.formListUnit\n      if (formListUnits && formListUnits.length !== 0) {\n        formListUnits.forEach(item => {\n          item.backDefault()\n        })\n      }\n\n      this.showCheckBox = false\n      this.selectItems = []\n    },\n    // 确定删除\n    _delete () {\n      let { addType } = this.chileTableItem\n      let { formstate } = this.routerParams\n\n      if (addType === 'fromWizard') {\n        this.MixinAlertShowEvent('仅限查看,不能删除')\n      } else if (formstate === 'view') {\n        this.MixinAlertShowEvent('仅限查看,不能删除')\n      } else if (formstate === 'add') {\n        this.MixinAlertShowEvent('目前处于新增状态,请保存主表')\n      } else {\n        this.deleteSelectedItems()\n      }\n    },\n    // 删除\n    _preDelete () {\n      this.showCheckBox = true\n    },\n    // 选中一条数据的事件\n    _selectItem (item) {\n      this.selectItems.push(item)\n    },\n    // 取消选中事件\n    _unSelectItem (item) {\n      removeList(this.selectItems, item)\n    },\n    // 关闭面板\n    closeEditBlock () {\n      this.offset = 100\n    }\n  },\n  watch: {\n    tableData: {\n      handler (newData, oldData) {\n        if (!newData.values) {\n          newData.values = []\n        }\n\n        let subTable = this.chileTableItem.subTable\n        if (subTable === 'withCommonTable') {\n          this.subTableData = Object.assign({}, newData)\n        }\n\n        this.tableLists = newData.values.concat()\n      },\n      immediate: true\n    }\n  },\n  components: {\n    SearchBox,\n    FormList,\n    FooterBar,\n    FormRow,\n    subFileAttach,\n    SubCommonTable\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/win-form/commonChildTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chile-table-unit\"},[_c('div',{staticClass:\"child-main-content\"},[_c('form',{staticClass:\"child-main-table\"},[_c('ul',{staticClass:\"child-table-lists\"},[(_vm.tableType === 'table')?_c('li',{staticClass:\"table-title\"},[_c('div',{staticClass:\"title-wrap\"},[(_vm.option.title.show)?_c('div',{staticClass:\"title-item\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.option.title.text))])]):_vm._e(),_vm._v(\" \"),(_vm.option.left.show)?_c('div',{staticClass:\"title-item\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.option.left.text))])]):_vm._e(),_vm._v(\" \"),(_vm.option.center.show)?_c('div',{staticClass:\"title-item\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.option.center.text))])]):_vm._e(),_vm._v(\" \"),(_vm.option.right.show)?_c('div',{staticClass:\"title-item\"},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.option.right.text))])]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.tableLists),function(item){return (_vm.tableLists.length)?_c('li',{key:item.Id,staticClass:\"table-list\",on:{\"click\":function($event){_vm.selectItemView(item)}}},[_c('form-list',{ref:\"formListUnit\",refInFor:true,attrs:{\"item\":item,\"showCheckBox\":_vm.showCheckBox,\"tagShow\":_vm.tagShow,\"option\":_vm.option,\"tableType\":_vm.tableType,\"KeyWord\":_vm.KeyWord,\"comboboxdata\":_vm.comboboxdata},on:{\"selectItem\":_vm._selectItem,\"unSelectItem\":_vm._unSelectItem}})],1):_vm._e()})],2)]),_vm._v(\" \"),(_vm.isEdit)?_c('footer-bar',{on:{\"Add\":_vm._add,\"preDelete\":_vm._preDelete,\"Delete\":_vm._delete,\"backPre\":_vm._backPre}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"chile-table-lists-form\",style:({'transform': 'translate3d(' + this.offset + '%, 0, 0)'})},[_c('form',{staticClass:\"input-textarea-group\"},[_vm._l((_vm.tableShowField),function(fieldItem,fieldIndex){return (_vm.tableShowField.length > 0)?_c('form-row',{key:fieldIndex,attrs:{\"label\":fieldItem.title,\"type\":fieldItem.format,\"readonly\":fieldItem.readonly,\"required\":fieldItem.required,\"disabled\":fieldItem.disabled,\"placeholder\":fieldItem.placeholder,\"field\":fieldItem.field,\"KeyWord\":_vm.KeyWord,\"fieldItem\":fieldItem,\"mainformData\":_vm.currentItem,\"comboboxdata\":_vm.comboboxdata},on:{\"enterChange\":_vm.formRowChange}}):_vm._e()}),_vm._v(\" \"),(_vm.chileTableItem.subTable === 'withAttach')?_c('div',{staticClass:\"sub-file-attach-warp\"},[_c('h1',{staticClass:\"sub-file-attach-title font-color-active\"},[_vm._v(\"附件列表:\")]),_vm._v(\" \"),_c('sub-file-attach',{ref:\"subFileAttach\",attrs:{\"KeyWord\":_vm.KeyWord,\"KeyValue\":_vm.currentItem.Id}})],1):_vm._e(),_vm._v(\" \"),(_vm.chileTableItem.subTable === 'withCommonTable')?_c('div',{staticClass:\"sub-file-attach-warp\"},[_c('h1',{staticClass:\"sub-file-attach-title font-color-active\"},[_vm._v(\"请购明细:\")]),_vm._v(\" \"),_c('sub-common-table',{attrs:{\"tableTextNameOption\":_vm.subTableTextNameOption,\"tableShowField\":_vm.subTableShowField,\"tableData\":_vm.subTableData,\"tableType\":_vm.tableType,\"comboboxdata\":_vm.comboboxdata,\"selectId\":_vm.selectId}})],1):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"footer-actions\"},[(_vm.isEdit)?_c('div',{staticClass:\"action-item\",on:{\"click\":_vm.saveFromData}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"action-item\",on:{\"click\":_vm.closeEditBlock}},[_vm._v(\"关闭\")])])]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.mx_isLoading),callback:function ($$v) {_vm.mx_isLoading=$$v},expression:\"mx_isLoading\"}}),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"time\":_vm.mx_deleyTime},model:{value:(_vm.mx_toastShow),callback:function ($$v) {_vm.mx_toastShow=$$v},expression:\"mx_toastShow\"}},[_vm._v(_vm._s(_vm.mx_toastText))]),_vm._v(\" \"),_c('alert',{attrs:{\"title\":_vm.mx_alertTitle,\"content\":_vm.mx_message},on:{\"on-hide\":_vm.MixinAlertHideEvent},model:{value:(_vm.mx_alertShow),callback:function ($$v) {_vm.mx_alertShow=$$v},expression:\"mx_alertShow\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d5a6fcb6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/win-form/commonChildTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d5a6fcb6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commonChildTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commonChildTable.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commonChildTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d5a6fcb6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./commonChildTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d5a6fcb6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/win-form/commonChildTable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}